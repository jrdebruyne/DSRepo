
<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <title>Add an Authenticator App</title>

    <script language="JavaScript">
        // from Greg Lowe/SO
        function copyToClipboard(text) {
            if (window.clipboardData && window.clipboardData.setData) {
                // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.
                return window.clipboardData.setData("Text", text);
            }
            else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
                var textarea = document.createElement("textarea");
                textarea.textContent = text;
                textarea.style.position = "fixed";  // Prevent scrolling to bottom of page in Microsoft Edge.
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    return document.execCommand("copy");  // Security exception may be thrown by some browsers.
                }
                catch (ex) {
                    console.warn("Copy to clipboard failed.", ex);
                    return false;
                }
                finally {
                    document.body.removeChild(textarea);
                }
            }
        }
    </script>
    <script type="text/javascript" src="VanillaQR.js"></script>
    <style>
        #urilink { display: inline-block; margin: 0 auto 0.5em auto; }
        #qrcode { position: relative; max-width: 256px; display: block; }
        .mtop0 { margin-top: 0; }
    </style>
    <!-- mh frac 2020/11/03 -->

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="https://myt1.state.nj.us/mynj_anon/styles/mynj5g.2.css">
    <link rel="stylesheet" type="text/css" href="https://myt1.state.nj.us/mynj_anon/styles/mynj4posfx.css">
    <script language="JavaScript">
        function focusFirst() {
            if (window.screen.availWidth >= 800) {
                var f = document.forms;
                for (var i = 0; i< f.length; i++) {
                    for (var j = 0; j < f[i].elements.length; j++) {
                        var e = f[i].elements[j];
                        if (e.type != "hidden") {
                            e.focus();
                            return;
                        }
                    }
                }
            }
        }
    </script>
</head>

<body onload="focusFirst()">
<!-- body onload="focusFirst()" -->

<div class="mat1">

    <div class="mat3 njbanner1">
        <div class="mat4_50 njbanner1a">
            <h1><img src="https://myt1.state.nj.us/mynj_anon/images/state_seal_white_transparent.png" alt="State of New Jersey Seal">OFFICIAL SITE OF THE STATE OF NEW JERSEY</h1>
        </div>
        <div class="njbanner1b mat4_50">
            <div>
                <a href="https://www.nj.gov/governor/" target="_blank">Governor Phil Murphy &bull;</a> <a href="https://www.nj.gov/governor/admin/lt/" target="_blank">Lt. Governor Sheila Oliver</a>
            </div>
            <ul>
                <li><a href="https://www.nj.gov">NJ.gov</a> |</li>
                <li><a href="https://www.nj.gov/nj/gov/njgov/alphaserv.html">Services</a> |</li>
                <li><a href="https://www.nj.gov/nj/gov/deptserv/">Agencies</a> |</li>
                <li><a href="https://www.nj.gov/faqs/">FAQs</a></li>
            </ul>
        </div>
    </div>

    <div class="mat1f">

        <div class="header">
            <img src="https://myt1.state.nj.us/mynj_anon/images/mynjlogo1.png" alt="myNewJersey logo">
        </div>



        <div class="mat4 pad2 chbord">
            <h1 class="ctr">
                Add an Authenticator App to Logon ID null
            </h1>


            <div id="notif"></div>

            <form method="post" name="addAuthnForm" action="/edituser/RegisterTOTP">

                <br>
                <p><span class="steplbl">1</span> <span class="lbl">Open your authenticator app or plugin</span><br>
                <p><span class="steplbl">2</span> <label for="authnName" class="lbl">Enter a nickname for your authenticator</label><br/>
                <p class="gray">The name you enter will appear on your myNJ account page.<br>Describe the app and where it's running - for example, "<i>Appname</i> on iPhone"</p>
                <input type="text" name="authnName" id="authnName" size="27" maxlength="40" class="inpb" value=""><br/>

                <p><span class="steplbl">3</span> <span class="lbl">Use your authenticator app to scan this barcode image:</span><br>

                    <div id="qrcode"></div>

                <p>If you can't scan the image, click or tap <input type="button" value="Copy" class="submalt mtop0" onclick="copyToClipboard('AKDRL6DHXZ4GSYEGYTHEIANT2BCGBRZT')">
                    to copy the secret to the clipboard.<br>
                    Then paste it manually into your authenticator app, and enter "myNJ" as the Issuer.  Don't share it with anyone.</p><br>

                <p><span class="steplbl">4</span> <label for="totp" class="lbl">Enter the 6-digit code your authenticator is displaying</label><br>
                    <input type="text" name="totp" id="totp" size="27" maxlength="10" class="inpb"><br/>
                <p><span class="steplbl">5</span> <label for="verifyTotp" class="lbl" style="padding-right: 1em;">Click or tap Verify to finish</label>
                    <input type="submit" name="verifyTotp" id="verifyTotp" value="Verify" class="subm">
                    <input type="button" name="Cancel" onClick="window.location.replace('/edituser/RegisterTOTP/cancel');" value="Cancel" class="subm" style="margin-left: 2em;">

            </form>

        </div>
    </div>

    <div class="ftr">
        <div class="njfooter1">
            <div class="njfooter1a">
                <h2>Statewide</h2>
                <ul>
                    <li><a href="https://www.nj.gov/governor/admin/about/" target="_blank">Governor Phil Murphy</a> </li>
                    <li><a href="https://www.nj.gov/governor/admin/lt/" target="_blank">Lt. Governor Sheila Oliver</a> </li>
                    <li class=""><a href="https://www.nj.gov/" target="_blank">NJ Home</a></li>
                    <li><a href="https://www.nj.gov/njgov/alphaserv.html" target="_blank">Services A to Z</a></li>
                    <li><a href="https://www.nj.gov/deptserv/" target="_blank">Departments/Agencies</a></li>
                    <li><a href="https://www.nj.gov/faqs/" target="_blank">FAQs</a></li>
                    <li><a href="https://www.nj.gov/nj/feedback.html" target="_blank">Contact Us</a></li>
                    <li><a href="https://www.nj.gov/nj/privacy.html" target="_blank">Privacy Notice</a></li>
                    <li><a href="https://www.nj.gov/nj/legal.html" target="_blank">Legal Statement &amp; Disclaimers </a></li>
                    <li><a href="https://www.nj.gov/nj/accessibility.html" target="_blank">Accessibility Statement</a></li>
                </ul>
                <img src="https://myt1.state.nj.us/mynj_anon/images/digital_nj_logo_white_transparent.png"  alt="NJ Logo"/>
            </div>
        </div>
        <div class="njfooter2">
            <div class="mat3">
                <div class="mat4_50 njfooter2a">
                    <a href="https://www.nj.gov/opra"><img src="https://myt1.state.nj.us/mynj_anon/images/opra.png" alt="Open Public Records Act logo"></a>
                </div>
                <div class="mat4_50 njfooter2b">
                    <p>Copyright &copy; State of New Jersey, 1996-2021</p>
                    <p><img src="https://myt1.state.nj.us/mynj_anon/images/njoit.png" alt="Powered by NJOIT logo"></p>
                </div>
            </div>
        </div>
    </div>

</div>


<script type="text/javascript">
    // Generate the qr code
    var mfaq = new VanillaQR({
        url: "otpauth://totp/myNewJerseyDev:null?secret=AKDRL6DHXZ4GSYEGYTHEIANT2BCGBRZT&algorithm=SHA1&digits=6&period=30&lock=false",
        width: 400,
        height: 400,
        colorLight: "#FFFFFF",
        colorDark: "#000000",
        noBorder: true
    });
    document.getElementById("qrcode").appendChild(mfaq.domElement);
</script>

</body>
</html>
